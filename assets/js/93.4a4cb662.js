(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{458:function(e,a,s){"use strict";s.r(a);var t=s(45),r=Object(t.a)({},(function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("p",[e._v("Run your app in production")]),e._v(" "),s("h1",{attrs:{id:"basics"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#basics"}},[e._v("#")]),e._v(" BASICS")]),e._v(" "),s("h4",{attrs:{id:"_1-install"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-install"}},[e._v("#")]),e._v(" 1] Install")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("- see install.sh\n")])])]),s("h4",{attrs:{id:"_2-docker-daemon-dockerd"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-docker-daemon-dockerd"}},[e._v("#")]),e._v(" 2] Docker Daemon (dockerd)")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("- start manually use `dockerd`\n- `/etc/docker/daemon.json` for configuration\n- options reference - https://docs.docker.com/engine/reference/commandline/dockerd/\n")])])]),s("h4",{attrs:{id:"_3-prometheus-system-monitoring"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-prometheus-system-monitoring"}},[e._v("#")]),e._v(" 3] Prometheus system monitoring")]),e._v(" "),s("h4",{attrs:{id:"_4-container-restart-policy"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-container-restart-policy"}},[e._v("#")]),e._v(" 4] Container restart policy")]),e._v(" "),s("ul",[s("li",[e._v("if a container stops running ? Restart.")]),e._v(" "),s("li",[e._v("Apply only containers not services.")]),e._v(" "),s("li",[s("code",[e._v("docker-compose.yml")]),e._v(" is better than direct "),s("code",[e._v("docker run")])]),e._v(" "),s("li",[s("em",[e._v("docker run -dit --restart "),s("flag",[e._v(" redis")])],1)]),e._v(" "),s("li",[s("code",[e._v("<flag>")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("no")]),e._v(" = Do not restart.(Default)")]),e._v(" "),s("li",[s("code",[e._v("on-failure")]),e._v(" = restart if error, which manifests as a non-zero exit code.")]),e._v(" "),s("li",[s("code",[e._v("unless-stopped")]),e._v(" = Restart unless explicitly stopped or Docker itself is stopped or restarted.")]),e._v(" "),s("li",[s("code",[e._v("always")]),e._v(" = Always restart")])])]),e._v(" "),s("li",[e._v("Stopped if manually stopped.")])]),e._v(" "),s("h4",{attrs:{id:"_5-limit-container-s-resources"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-limit-container-s-resources"}},[e._v("#")]),e._v(" 5] Limit container's resources")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("- perform test to check required resources for each containers\n- `memory`\n    - use `zram` (`swap` is bad for disk)\n- `cpu`\n- `block I/O`\n")])])]),s("h4",{attrs:{id:"labels-naming"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#labels-naming"}},[e._v("#")]),e._v(" Labels naming")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("give label names to objects like:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("  [static label for lifetime]\n      Images\n      Containers\n      Local daemons\n      Volumes\n      Networks\n  [dynamic label for lifetime]\n      Swarm nodes\n      Swarm services \n")])])])]),e._v(" "),s("li",[s("p",[e._v("label is a "),s("code",[e._v("key-value")]),e._v(" pair")])]),e._v(" "),s("li",[s("p",[e._v("can have multiple labels per objects. But unique labels.")])]),e._v(" "),s("li",[s("p",[e._v("same label key for a object then last value of key is taken")])]),e._v(" "),s("li",[s("p",[e._v("label naming => "),s("code",[e._v(". dot")]),e._v(" ,"),s("code",[e._v("- dash")]),e._v(" , "),s("code",[e._v("lower-case")]),e._v(", "),s("code",[e._v("alphanumeric")]),e._v(" ,")])])]),e._v(" "),s("h4",{attrs:{id:"prune-variou-docker-objects"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#prune-variou-docker-objects"}},[e._v("#")]),e._v(" Prune variou docker objects")]),e._v(" "),s("ul",[s("li",[e._v("remove unued docker objects.")]),e._v(" "),s("li",[e._v("if not removed then uses disk space")])]),e._v(" "),s("hr")])}),[],!1,null,null,null);a.default=r.exports}}]);